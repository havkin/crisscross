!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),{gameTableElement:document.getElementById("game"),status:"playing",mapValues:[["","",""],["","",""],["","",""]],phase:"X",init(){this.renderMap(),this.initEventHandlers()},renderMap(){for(let t=0;t<3;t++){const e=document.createElement("tr");this.gameTableElement.appendChild(e);for(let i=0;i<3;i++){let n=document.createElement("td");n.dataset.row=t.toString(),n.dataset.col=i.toString(),e.appendChild(n)}}},initEventHandlers(){this.gameTableElement.addEventListener("click",t=>this.cellClickHandler(t))},cellClickHandler(t){this.isCorrectClick(t)&&(this.fillCell(t),this.hasWon()&&(this.setStatusStopped(),this.sayWonPhrase()),this.togglePhase())},isCorrectClick(t){return this.isStatusPlaying()&&this.isClickByCell(t)&&this.isCellEmpty(t)},isStatusPlaying(){return"playing"===this.status},isClickByCell:t=>"TD"===t.target.tagName,isCellEmpty(t){let e=+t.target.dataset.row,i=+t.target.dataset.col;return""===this.mapValues[e][i]},fillCell(t){let e=+t.target.dataset.row,i=+t.target.dataset.col;this.mapValues[e][i]=this.phase,t.target.textContent=this.phase},hasWon(){return this.isLineWon({x:0,y:0},{x:1,y:0},{x:2,y:0})||this.isLineWon({x:0,y:1},{x:1,y:1},{x:2,y:1})||this.isLineWon({x:0,y:2},{x:1,y:2},{x:2,y:2})||this.isLineWon({x:0,y:0},{x:0,y:1},{x:0,y:2})||this.isLineWon({x:1,y:0},{x:1,y:1},{x:1,y:2})||this.isLineWon({x:2,y:0},{x:2,y:1},{x:2,y:2})||this.isLineWon({x:0,y:0},{x:1,y:1},{x:2,y:2})||this.isLineWon({x:0,y:2},{x:1,y:1},{x:2,y:0})},isLineWon(t,e,i){let n=this.mapValues[t.y][t.x]+this.mapValues[e.y][e.x]+this.mapValues[i.y][i.x];return"XXX"===n||"000"===n},setStatusStopped(){this.status="stopped"},sayWonPhrase(){let t="X"===this.phase?"Крестики":"Нолики";alert(`${t} выиграли!`)},togglePhase(){this.phase="X"===this.phase?"0":"X"}}.init()}]);